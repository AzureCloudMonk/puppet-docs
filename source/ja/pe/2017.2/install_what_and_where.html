---
layout: default
title: "インストールされる要素とその場所"
---

<p> Puppet Enterpriseは、いくつかのソフトウェアコンポーネント、設定ファイル、データベース、サービスとユーザ、ログファイルをインストールします。 これらの保存場所を知っておくと、Puppet Enterpriseインフラのトラブルシューティングや管理が必要になったときに便利です。
</p>

<h2 id="software-components-installed">インストールされるソフトウェアコンポーネント</h2>

<p> Puppet Enterpriseは、いくつかのソフトウェアコンポーネントと依存関係をインストールします。
</p>

<p> PEの機能コンポーネントは、puppet-agentとパッケージされたものと、サーバー側にパッケージされたもの(こちらもpuppet-agentを含みます)に区別されています。
</p>

<p> PE 2017.2には、以下の主要なソフトウェアコンポーネントが含まれます。
</p>

<h3 id="agent-components-on-all-nodes">Agentコンポーネント(すべてのノード)</h3>

<table>
<thead><tr>
<th>PEバージョン</th> <th>Puppet Agent</th> <th>Puppet</th> <th>Facter</th> <th>Hiera</th> <th>MCollective</th> <th>Ruby</th> <th>OpenSSL</th>
    </tr></thead>
<tbody>
<tr><td>2017.2.0</td> <td><a href="/puppet/4.10/release_notes_agent.html#puppet-agent-1101"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">1.10.1</abbr></a></td> <td><a href="/puppet/4.10/release_notes.html#puppet-4101"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">4.10.1</abbr></a></td> <td><a href="/facter/3.6/release_notes.html#facter-364"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">3.6.4</abbr></a></td> <td><a href="/hiera/3.3/release_notes.html#hiera-331"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">3.3.1</abbr></a></td> <td><a href="/mcollective/releasenotes.html"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.10.4</abbr></a></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.1.9</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">1.0.2k</abbr></td></tr>
<tr>
<td>2017.1.0</td> <td>
<a href="/puppet/4.9/release_notes_agent.html#puppet-agent-193"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">1.9.3</abbr></a><br><a href="/puppet/4.7/release_notes_agent.html#puppet-agent-170"><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">1.7.0</abbr></a>
</td> <td>
<a href="/puppet/4.9/release_notes.html#puppet-494"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">4.9.4</abbr></a><br><a href="/puppet/4.7/release_notes.html#puppet-470"><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">4.7.0</abbr></a>
</td> <td>
<a href="/facter/3.6/release_notes.html#facter-362"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">3.6.2</abbr></a><br><a href="/facter/3.4/release_notes.html#facter-341"><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">3.4.1</abbr></a>
</td> <td>
<a href="/hiera/3.3/release_notes.html#hiera-331"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">3.3.1</abbr></a><br><a href="/hiera/3.2/release_notes.html#hiera-321"><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">3.2.1</abbr></a>
</td> <td>
<a href="/mcollective/releasenotes.html"><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">2.9.0</abbr></a><br><a href="/mcollective/releasenotes.html"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.10.2</abbr></a>
</td> <td><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64, ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">2.1.9</abbr></td> <td>
<abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">1.0.2j</abbr><br><abbr title="ubuntu-14.04-i386, ubuntu-12.04-i386, ubuntu-16.04-i386">1.0.2h</abbr>
</td>
</tr></tbody>
</table>
<h3 id="server-components">サーバーコンポーネント</h3>

<table>
<thead><tr>
<th>PEバージョン</th> <th>Puppetサーバー</th> <th>PuppetDB</th> <th>r10k</th> <th>Razorサーバー</th> <th>Razor Libs</th> <th>PostgreSQL</th> <th>Java</th> <th>ActiveMQ</th> <th>Nginx</th>
    </tr></thead>
<tbody>
<tr><td>2017.2.0</td> <td><a href="/puppetserver/2.7/release_notes.html#puppet-server-272"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.7.2</abbr></a></td> <td><a href="/puppetdb/4.4/release_notes.html"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">4.4.0</abbr></a></td> <td><a href="https://github.com/puppetlabs/r10k/blob/master/CHANGELOG.mkd#254"><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.5.4</abbr></a></td> <td><abbr title="el-6-x86_64, el-7-x86_64">1.6.0</abbr></td> <td><abbr title="el-6-x86_64, el-7-x86_64">2017.1.3</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.2.9</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.2.1</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.2.5</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.2.1</abbr></td></tr>
<tr><td>2017.1.0</td> <td><a href="/puppetserver/2.7/release_notes.html#puppet-server-272"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.7.2</abbr></a></td> <td><a href="/puppetdb/4.3/release_notes.html"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">4.3.2</abbr></a></td> <td><a href="https://github.com/puppetlabs/r10k/blob/master/CHANGELOG.mkd#251"><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2.5.1</abbr></a></td> <td><abbr title="el-6-x86_64, el-7-x86_64">1.5.0</abbr></td> <td><abbr title="sles-11-x86_64, el-6-x86_64, el-7-x86_64, sles-12-x86_64">2017.1.3</abbr></td> <td><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.1.9</abbr></td> <td><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.1.1</abbr></td> <td><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.1.5</abbr></td> <td><abbr title="ubuntu-12.04-amd64, sles-11-x86_64, el-6-x86_64, ubuntu-14.04-amd64, el-7-x86_64, sles-12-x86_64, ubuntu-16.04-amd64">2017.1.1</abbr></td>
</tr></tbody>
</table>
<blockquote>
  <p> <strong>注：</strong> Puppet Enterpriseは、「<a href="./sys_req_os.md#dependencies-and-os-specific-details">システム要件</a>」に記載されたその他の依存関係もインストールします。
</p>
</blockquote>

<h2 id="binaries-modules-and-plugins-installed">インストールされるバイナリ、モジュール、プラグイン</h2>

<p> Puppet Enterpriseは、通常処理とツールおよびサービスとの相互作用を目的に、いくつかのバイナリ、モジュール、プラグインをインストールします。
</p>

<h3 id="executable-binaries-and-symlinks">実行可能なバイナリとシンボリックリンク</h3>

<p> Puppet Enterpriseはツールおよびサービスとの相互作用を目的に、実行可能なバイナリをインストールします。
</p>

<p> *nixノードでは、すべてのPuppet Enterpriseソフトウェアが、<code>/opt/puppetlabs</code>にインストールされます。
</p>

<p> Windowsノードでは、すべてのPEソフトウェアが、 <a href="./install_windows.html#program-directory">標準32ビットアプリケーションディレクトリ</a>の「Puppet Enterprise」サブディレクトリにインストールされます。
</p>

<p> *nix上の実行可能バイナリは、<code>/opt/puppetlabs/bin</code>と<code>/opt/puppetlabs/sbin</code>にあります。
</p>

<p> すべてのユーザが主要なPuppetツールを使えるよう、インストーラによって、<code>facter</code>、<code>puppet</code>、<code>pe-man</code>、<code>r10k</code>、<code>hiera</code>、および<code>mco</code>バイナリのシンボリックリンクが<code>/usr/local/bin</code>に自動的に作成されます。 シンボリックリンクは、<code>/usr/local/bin</code>が書き込み可能な場合にのみ作成されます。
</p>

<p> AIXおよびSolaris 10/11をお使いの場合は、デフォルトパスに<code>/usr/local/bin</code>を追加する必要があります。
</p>

<p> Mac OS X agentを実行している場合、agentのカタログを適用してPuppetが正常に実行されるまで、シンボリックリンクは作成されません。
</p>

<p> Puppet EnterpriseがインストールされているPostgreSQLサーバー、PuppetDB、Rubyパッケージと通信するコンポーネントなど、上記以外のPuppet Enterpriseコンポーネントが提供するバイナリのシンボリックリンクは作成されません。
</p>

<p> バイナリの有効化とシンボリックリンクの無効化については、以下を参照してください。
</p>

<ul>
<li><a href="./install_pe_mono.html#add-puppet-enterprise-binaries-to-path"><code>PATH</code>へのPuppet Enterpriseバイナリの追加</a></li>
  <li><a href="./install_pe_mono.html#disable-puppet-enterprise-symlinks">Puppet Enterpriseシンボリックリンクの無効化</a></li>
</ul>
<h3 id="modules-and-plugins">モジュールとプラグイン</h3>

<p> Puppet Enterpriseは通常処理のために、いくつかのモジュールおよびプラグインをインストールします。
</p>

<ul>
<li>PEに含まれるPuppetモジュールは、Puppet masterサーバーの<code>/opt/puppetlabs/puppet/modules</code>にインストールされます。このディレクトリにあるものに変更を加えたり、独自のモジュールを追加したりしないでください。独自のモジュールは、代わりに<code>/etc/puppetlabs/code/environments/&lt;environment&gt;/modules</code>にインストールしてください。</li>
  <li>MCollectiveプラグインは、*nixでは<code>/opt/puppetlabs/mcollective/plugins/</code>、Windowsでは<a href="./install_windows.html#data-directory"><code>&lt;COMMON_APPDATA&gt;</code></a><code>\PuppetLabs\mcollective\etc\plugins\mcollective</code>にインストールされます。新しいプラグインをPE agentノードに追加する場合は、<a href="/pe/latest/orchestration_adding_actions.html">このマニュアルの「アクションの追加」ページの説明に従い、Puppetから配布してください</a>。</li>
</ul>
<h2 id="configuration-files-installed">インストールされる設定ファイル</h2>

<p> Puppet Enterpriseは設定ファイルをインストールします。設定ファイルの編集が必要になる場合もあります。
</p>

<p> *nixノードでは、Puppet Enterpriseの構成ファイルはすべて<code>/etc/puppetlabs/puppet</code>に置かれます。
</p>

<p> Windowsノードでは、Puppet Enterpriseの構成ファイルはすべて<code>&lt;COMMON_APPDATA&gt;\PuppetLabs</code>に置かれます。 このフォルダの場所は、<a href="./install_windows.html#data-directory">Windowsのバージョンによって異なります</a>。2008および2012では、デフォルトの場所は<code>C:\ProgramData\PuppetLabs\puppet\etc</code>です。
</p>

<p> Puppetの<code>confdir</code>は、<code>puppet</code>サブディレクトリにあります。 このディレクトリには、<a href="{{puppet}}/config_about_settings.html"><code>puppet.conf</code></a>ファイル、<code>auth.conf</code>、SSLディレクトリが含まれます。
</p>

<h2 id="tools-installed">インストールされるツール</h2>

<p> PEでは、ソフトウェアの主要コンポーネントを使いやすくするために、いくつかのツールセットがインストールされます。
</p>

<p> ツールには以下のものがあります。
</p>

<ul>
<li>
<strong>Puppetツール</strong> — <code>puppet master</code>や<code>puppet cert.</code>といったPuppetの基本機能をコントロールするツール。詳細については<a href="{{puppet}}/services_commands.html">ツールセクション</a> を参照してください。</li>
  <li>
<strong>PEクライアントツール</strong> — pe-client-toolsパッケージには、Puppet masterまたはワークステーションからPuppet Enterpriseサービスへのアクセス機能を拡張するCLIツールセットが含まれています。パッケージに含まれるツールは以下のとおりです。<ul>
<li>
<strong>Puppetオーケストレータ</strong> — Puppetオーケストレータは、Puppetアプリケーションオーケストレーションサービスのインタフェースを提供するインタラクティブなコマンドラインツールのセットです。また、環境レベルで変更を適用する機能も提供します。これらのツールには、<code>puppet job</code>および<code>puppet app</code>などがあります。詳細については<a href="%7B%7Bpe%7D%7D/orchestrator_intro.html">Puppetオーケストレータ文書</a>を参照してください。また、<a href="%7B%7Bpe%7D%7D/code_mgr_cli.html">コードマネージャ文書</a>も参照してください。</li>
      <li>
<strong>Puppet Access</strong> — Puppet Enterpriseユーザが、特定のPEコマンドラインツールやAPIエンドポイントへのアクセスを認証するためのトークンを作成することができます。詳細については<a href="%7B%7Bpe%7D%7D/rbac_token_auth.html">トークンを用いた認証に関する文書</a>を参照してください。</li>
      <li>
<strong>コードマネージャCLI</strong> — <code>puppet-code</code>コマンドラインを使えば、コマンドラインでコードマネージャを実行し、環境をデプロイすることができます。</li>
      <li>
<strong>PuppetDB CLI</strong> — これは、クエリの構築やエクスポートの処理などでPuppetDBを使用するためのツールです。詳細については「<a href="%7B%7Bpuppetdb%7D%7D/pdb_client_tools.html">PuppetDB CLI</a>を参照してください。</li>
    </ul>
</li>
  <li>
<strong>MCollectiveツール</strong> — 多数のノードで同時アクションを実行するためのツール。これらのツールはMCollectiveフレームワークをもとに構築されており、<code>mco</code>コマンドでアクセスできます。詳細については<a href="%7B%7Bpe%7D%7D/orchestration_overview.html">PE MCollective文書</a>を参照してください。</li>
  <li>
<strong>モジュールツール</strong> — モジュールツールは、Puppetモジュールの利用および作成に用いられるツールで、設定およびデプロイタスクの自動化のためにユーザが記述したPuppetコードをまとめた再利用可能なツールです。<a href="http://forge.puppetlabs.com/">Puppet Forge</a>では、詳細を確認し、モジュールを利用することができます。</li>
  <li>
<strong>コンソール</strong> — コンソールはPuppet EnterpriseのWeb UIです。ノード上のリソースの閲覧および編集、レポートおよびアクティビティグラフの閲覧などのためのツールを提供しています。詳細についてはPEマニュアルの<a href="%7B%7Bpe%7D%7D/console_accessing.html">コンソールセクション</a>を参照してください。</li>
</ul>
<h2 id="databases-installed">インストールされるデータベース</h2>

<p> Puppet Enterpriseはいくつかのデフォルトデータベースをインストールします。そのすべてで、バックエンドデータベースとしてPostgreSQLが使用されます。
</p>

<p> PE PostgreSQLデータベースには、以下のデータベースが含まれます。
</p>

<table>
<thead><tr>
<th>データベース</th>
      <th>説明</th>
    </tr></thead>
<tbody>
<tr>
<td>pe-activity</td>
      <td>誰が、何を、いつ実施したかを含めた、分類子からのアクティビティデータ</td>
    </tr>
<tr>
<td>pe-classifier</td>
      <td>分類データ、すべてのノードグループ情報</td>
    </tr>
<tr>
<td>pe-puppetdb</td>
      <td>エクスポートしたリソース、カタログ、facts、レポートなどのPuppetDBのデータ</td>
    </tr>
<tr>
<td>pe-rbac</td>
      <td>ユーザー、許可、AD/LDAP情報などのRBACデータ</td>
    </tr>
<tr>
<td>pe-orchestrator</td>
      <td>ジョブ実行の詳細(ユーザー、ノード、実行結果)などのオーケストレータデータ</td>
    </tr>
</tbody>
</table>
<p> PostgreSQLのネイティブツールを使って、データベースのエクスポートとインポートを実行します。 最低でも、リモートシステムへの<a href="%7B%7Bpe%7D%7D/maintain_console-db.html#backup-and-restore-procedures-for-the-pe-databases">バックアップ</a>または会社のポリシーで規定された方法でのバックアップを毎晩実施することを推奨します。
</p>

<h2 id="services-users-and-group-accounts-installed">インストールされるサービス、ユーザ、グループアカウント</h2>

<p> Puppet Enterpriseは、Puppet Enterpriseに含まれるソフトウェアと対話するために、いくつかのサービス、ユーザ、グループのアカウントをインストールします。
</p>

<h3 id="services-installed">インストールされるサービス</h3>

<p> Puppet Enterpriseは、通常処理での相互作用に使用されるいくつかのサービスをインストールします。
</p>

<table>
<tr>
<th>サービス</th>
   <th>定義</th>
 </tr>
<tr>
<td nowrap>pe-activemq</td>
   <td>ActiveMQメッセージサーバー。agentノードでMCollectiveサーバーにメッセージを受け渡します。Puppet masterコンポーネントのあるサーバーで稼働します。</td>
 </tr>
<tr>
<td nowrap>pe-console-services</td>
   <td>Puppet Enterprise Webコンソールを管理し、サービスを提供します。</td>
 </tr>
<tr>
<td nowrap>pe-puppetserver</td>
   <td nowrap>Puppet masterサーバー。Puppet masterコンポーネントを管理します。</td>
 </tr>
<tr>
<td nowrap>pe-nginx</td>
   <td>Nginx。Puppet Enterprise Webコンソールのリバースプロキシとして機能します。</td>
 </tr>
<tr>
<td nowrap>mcollective</td>
   <td>MCollectiveデーモン。メッセージをリッスンし、アクションを起こします。すべての agentノードで稼働します。</td>
 </tr>
<tr>
<td nowrap>puppet</td>
   <td>(ELおよびDebianベースのプラットフォーム) — Puppet agentデーモン。すべてのagentノードで稼働します。</td>
 </tr>
<tr>
<td nowrap>pe-puppetdb, pe-postgresql</td>
   <td>データベースコンポーネントを管理し、サービスを提供するデーモン。PostgreSQLをインストールおよび管理する場合のみ、pe-postgresqlが作成される点に注意してください。</td>
 </tr>
<tr>
<td nowrap>pxp-agent</td>
   <td>Puppet agent PXPプロセスを実行します。</td>
 </tr>
<tr>
<td nowrap>pe-orchestration-services</td>
   <td>Puppetオーケストレーションプロセスを実行します。</td>
 </tr>
</table>
<h3 id="user-accounts-installed">インストールされるユーザアカウント</h3>

<p> Puppet Enterpriseはいくつかのユーザアカウントを作成します。
</p>

<table>
<tr>
<th>ユーザ</th>
   <th>定義</th>
 </tr>
<tr>
<td nowrap>peadmin</td>
  <td>MCollective関連のアクションを実行可能な管理用アカウント。ログインシェルでの使用が意図されている唯一のPuppet Enterpriseユーザアカウントです。このユーザの詳細については&amp;<a href="%7B%7Bpe%7D%7D/orchestration_invoke_cli.html">このマニュアルの「アクションの起動」のページ</a>を参照してください。このユーザは、Puppet masterコンポーネントのあるサーバーに存在します。</td>
 </tr>
<tr>
<td nowrap>pe-puppet</td>
  <td>pe-puppetserverにより引き起こされるPuppet masterプロセスを実行するシステムユーザ。</td>
 </tr>
<tr>
<td nowrap>pe-webserver</td>
  <td>Nginx (pe-nginx)を実行するシステムユーザ。</td>
 </tr>
<tr>
<td nowrap>pe-activemq</td>
  <td>MCollectiveで使用されるActiveMQメッセージバスを実行するシステムユーザ。</td>
 </tr>
<tr>
<td nowrap>pe-puppetdb</td>
  <td>データベースへのrootアクセス権を持つシステムユーザ。</td>
 </tr>
<tr>
<td nowrap>pe-postgres</td>
  <td>pe-postgreSQLインスタンスへのアクセス権を持つシステムユーザ。このユーザはPostgreSQLをインストールおよび管理する場合のみ作成される点に注意してください。</td>
 </tr>
<tr>
<td nowrap>pe-console-services</td>
  <td>コンソールプロセスを実行するシステムユーザ。</td>
 </tr>
<tr>
<td nowrap>pe-orchestration-services</td>
  <td>Puppetオーケストレーションプロセスを実行するシステムユーザ。</td>
 </tr>
</table>
<h3 id="group-accounts-installed">インストールされるグループアカウント</h3>

<p> Puppet Enterpriseはいくつかのグループアカウントを作成します。
</p>

<table>
<tr>
<th>グループ</th>
  <th>定義</th>
 </tr>
<tr>
<td nowrap>peadmin</td>
  <td>MCollective関連アクションを起こすことのできる管理用グループ。</td>
 </tr>
<tr>
<td nowrap>pe-puppet</td>
  <td>pe-puppetserverにより引き起こされるPuppet masterプロセスを実行するシステムグループ。</td>
 </tr>
<tr>
<td nowrap>pe-webserver</td>
  <td>Nginx (pe-nginx)を実行するシステムグループ。</td>
 </tr>
<tr>
<td nowrap>pe-activemq</td>
  <td>MCollectiveにより用いられるActiveMQメッセージバスを実行するシステムグループ。</td>
 </tr>
<tr>
<td nowrap>pe-puppetdb</td>
  <td>データベースへのrootアクセス権を持つシステムグループ。</td>
 </tr>
<tr>
<td nowrap>pe-postgres</td>
  <td>pe-postgreSQLインスタンスへのアクセス権を持つシステムグループ。このグループはPostgreSQLをインストールおよび管理する場合のみ作成される点に注意してください。</td>
 </tr>
<tr>
<td nowrap>pe-console-services</td>
  <td>コンソールプロセスを実行するシステムグループ。</td>
 </tr>
<tr>
<td nowrap>pe-orchestration-services</td>
  <td>Puppetオーケストレーションプロセスを実行するシステムグループ。</td>
 </tr>
</table>
<h2 id="log-files-installed">インストールされるログファイル</h2>

<p> Puppet Enterpriseにより配信されるソフトウェアは、以下のログファイルを生成します。これらのログファイルは、コンプライアンスの目的で保管したり、トラブルシューティングに使用したりできます。
</p>

<h3 id="puppet-master-logs">Puppet masterログ</h3>

<p> Puppet masterには以下のログがあります。
</p>

<ul>
<li>
<code>/var/log/puppetlabs/puppetserver/puppetserver.log</code>：Puppet masterアプリケーションのアクティビティが記録されます。複雑なエラーや廃止予定の機能に関する警告などが含まれます。</li>
  <li>
<code>/var/log/puppetlabs/puppetserver/puppetserver-daemon.log</code>：重大なエラーやクラッシュレポートが記録されています。</li>
  <li>
<code>/var/log/puppetlabs/puppetserver/pcp-broker.log</code>: コンパイルmaster上のPCPブローカのためのログファイルです。</li>
  <li><code>/var/log/puppetlabs/puppetserver/code-manager-access.log</code></li>
  <li><code>/var/log/puppetlabs/puppetserver/file-sync-access.log</code></li>
  <li><code>/var/log/puppetlabs/puppetserver/masterhttp.log</code></li>
  <li><code>/var/log/puppetlabs/puppetserver/puppetserver-access.log</code></li>
  <li><code>/var/log/puppetlabs/puppetserver/puppetserver.log</code></li>
  <li><code>/var/log/puppetlabs/puppetserver/puppetserver-status.log</code></li>
</ul>
<h3 id="puppet-agent-logs">Puppet agentログ</h3>

<p> Puppet agentログの場所は、agentのオペレーティングシステムによって異なります。
</p>

<p> *nixノードでは、Puppet agentサービスのアクティビティは syslogサービスに記録されます。 メッセージを保存する場所をsyslog設定で指定できますが、デフォルトの保存場所は、Linuxでは<code>/var/log/messages</code>、Mac OS Xでは<code>/var/log/system.log</code>、Solarisでは<code>/var/adm/messages</code>です。
</p>

<p> Windowsノードでは、Puppet agentサービスのアクティビティはWindows Event Logに記録されます。 Event Viewerをブラウズしてログを表示することができます。 (<strong>Control Panel</strong> &gt; <strong>System and Security</strong> &gt; <strong>Administrative Tools</strong> &gt; <strong>Event Viewer</strong>)
</p>

<h3 id="activemq-logs">ActiveMQログ</h3>

<p> ActiveMQには以下のログがあります。
</p>

<ul>
<li><code>/var/log/puppetlabs/activemq/wrapper.log</code></li>
  <li><code>/var/log/puppetlabs/activemq/activemq.log</code></li>
  <li><code>/var/log/puppetlabs/activemq/data/audit.log</code></li>
</ul>
<h3 id="mcollective-logs">MCollectiveログ</h3>

<p> MCollectiveには以下のログがあります。
</p>

<ul>
<li>
<code>/var/log/puppetlabs/mcollective.log</code>：すべてのノードにインストールされるMCollectiveサービスにより維持されます。</li>
  <li>
<code>/var/log/puppetlabs/mcollective-audit.log</code>：MCollectiveがインストールされているすべてのノードに存在します。ノードを呼び出したクライアントに関する情報を含め、ノードで実行されたすべてのMCollectiveアクションを記録します。</li>
</ul>
<h3 id="console-and-pe-console-services-logs">コンソールおよびpe-console-servicesのログ</h3>

<p> コンソールおよびpe-console-servicesには以下のログがあります。
</p>

<ul>
<li>
<code>/var/log/puppetlabs/nginx/error.log</code>：nginxに関するエラーが含まれます。ほかのファイルに記録されていないコンソールエラーは、このログで見つかります。Puppetのコンソールに問題がある場合は、このログが役に立ちます。</li>
  <li><code>/var/log/puppetlabs/nginx/access.log</code></li>
  <li><code>/var/log/puppetlabs/console-services.log</code></li>
  <li><code>/var/log/puppetlabs/console-services-access.log</code></li>
  <li><code>/var/log/puppetlabs/console-services/console-services-api-access.log</code></li>
  <li>
<code>/var/log/puppetlabs/console-services-daemon.log</code>：重大なエラーやクラッシュレポートがここで見つかります。</li>
</ul>
<h3 id="installer-logs">インストーラログ</h3>

<p> Puppetインストーラには以下のログがあります。
</p>

<ul>
<li>
<code>/var/log/puppetlabs/installer/http.log</code>：インストーラに送られたWeb要求が含まれます。Webベースのインストールを実施したマシンにのみ存在します。</li>
  <li>
<code>/var/log/puppetlabs/installer/installer-&lt;timestamp&gt;.log</code>：インストール中に実行された操作と発生したエラーが含まれます。</li>
  <li>
<code>/var/log/puppetlabs/installer/install_log.lastrun.&lt;hostname&gt;.log</code>：直近のインストーラの実行内容が含まれます。</li>
</ul>
<h3 id="pe-database-logs">Puppet Enterpriseデータベースログ</h3>

<p> Puppet Enterpriseには以下のデータベース用ログがあります。
</p>

<ul>
<li><code>/var/log/puppetlabs/puppetdb/puppetdb-access.log</code></li>
  <li><code>/var/log/puppetlabs/puppetdb/puppetdb-status.log</code></li>
  <li><code>/var/log/puppetlabs/puppetdb/puppetdb.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/pgstartup.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Fri.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Mon.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Sat.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Sun.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Thu.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Tue.log</code></li>
  <li><code>/var/log/puppetlabs/postgresql/postgresql-Wed.log</code></li>
</ul>
<h3 id="pe-orchestration-services-logs">pe-orchestration-servicesログ</h3>

<p> Puppet Enterpriseには、pe-orchestration-servicesおよび関連コンポーネント用に以下のログがあります。
</p>

<ul>
<li><code>/var/log/puppetlabs/orchestration-services.log</code></li>
  <li><code>/var/log/puppetlabs/orchestration-services-access.log</code></li>
  <li><code>/var/log/puppetlabs/orchestration-services-status.log</code></li>
  <li>
<code>/var/log/puppetlabs/orchestration-services-daemon.log</code>：重大なエラーやクラッシュレポートがここで見つかります。</li>
  <li>
<code>/var/log/puppetlabs/orchestration-services/pcp-broker.log</code>: the log file for PCP brokers on the master of masters (MoM).</li>
  <li><code>/var/log/puppetlabs/orchestration-services/pcp-broker-access.log</code></li>
  <li>
<code>/var/log/puppetlabs/pxp-agent/pxp-agent.log</code> (*nixの場合)または<code>C:/ProgramData/PuppetLabs/pxp-agent/var/log/pxp-agent.log</code> (Windowsの場合)：PXP agentログファイルが含まれます。</li>
</ul>
<h2 id="certificates-installed">インストールされる証明書</h2>

<p> Puppet Enterpriseはインストール中、agentとサービスを認証するために多数のSSL証明書を生成します。
</p>

<p> これらの証明書は、<code>/etc/puppetlabs/puppet/ssl/certs</code>にあります。
</p>

<table>
<tr>
<th>証明書</th>
  <th>定義</th>
 </tr>
<tr>
<td nowrap>&lt;PUPPET MASTER CERTNAME&gt;</td>
  <td>インストール中に生成されます。モノリシックインストールでは、この証明書はPuppetDBとPuppet Enterprise Webコンソールによって使用されます。これは、Puppet master上で実行されるagentのcertnameと同じ値です。モノリシックインストールでは、Puppet Enterprise Webコンソール上のagentとPuppetDBのcertnameは同じです。デフォルトのモノリシックインストールまたは分割インストールでは、これがPuppet CA証明書にもなります。</td>
 </tr>
<tr>
<td nowrap>&lt;PE CONSOLE CERTNAME&gt;</td>
  <td>分割インストールの場合のみ生成されるPuppet Enterprise Webコンソールの証明書。これは、Puppet Enterprise Webコンソールで実行されるagentのcertnameと同じ値です。</td>
 </tr>
<tr>
<td nowrap>&lt;PUPPETDB CERTNAME&gt;</td>
  <td>分割インストールの場合のみ生成されるPuppetDBの証明書。これは、PuppetDBで実行されるagentのcertnameと同じ値です。</td>
 </tr>
<tr>
<td nowrap>pe-internal-mcollective-servers</td>
  <td>Puppet masterで作成される共通の証明書で、すべてのagentノードで共有されます。</td>
 </tr>
<tr>
<td nowrap>pe-internal-peadmin-mcollective-client</td>
  <td>Puppet masterのpeadminアカウントの証明書。</td>
 </tr>
<tr>
<td nowrap>pe-internal-puppet-console-mcollective-client</td>
  <td>Puppet Enterprise WebコンソールのMCollective証明書。</td>
 </tr>
</table>
<p> Puppet masterまたはコンソール(例：<code>pe-orchestration-services</code>と<code>pe-console-services</code>)で実行されるサービスを認証するには、Puppet agent証明書を使用します。
</p>

<hr>
<p> <strong>関連リンク</strong>
</p>

<ul>
<li><a href="./install_license_key.html">Puppet Enterpriseライセンスキーのインストール</a></li>
</ul>


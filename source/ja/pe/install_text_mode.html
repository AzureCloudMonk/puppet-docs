<div>
<h2 id="how-text-mode-installation-works">テキストモードインストールの仕組み</h2>

<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> Puppet Enterpriseインストーラをテキストモードで実行する場合、構成ファイル(<code>pe.conf</code>)がインストーラに受け渡されます。構成ファイルには、PEのインストールに必要なパラメータの値が含まれています。
</div>
</div>


<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> テキストモードインストールでは、PEコンポーネントをインストールする各ノード上で<code>pe.conf</code>ファイルによりインストーラを実行する必要があります。
</div>
</div> <div class="real-paragraph"> <div class="real-paragraph"> つまり、モノリシックインストールの場合は、1つのノード上で<code>pe.conf</code>によりインストーラを実行しますが、分割インストールの場合は、3つのノード上で<code>pe.conf</code>によりインストーラを実行します。 
</div>
</div>


<ul>
<li><a href="./install_text_mode_mono.html">テキストモードのモノリシックインストールの説明</a></li>
  <li><a href="./install_text_mode_split.html">テキストモードの分割インストールの説明</a></li>
</ul>
<h3 id="the-peconf-file">
<code>pe.conf</code>ファイル</h3>

<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> <code>pe.conf</code>ファイルは、<a href="/pe/2016.4/config_hocon.html">HOCON</a>形式のファイルで、Puppet Enterpriseをインストールして構成する際に必要なパラメータと値を明示するものです。
</div>
</div> <div class="real-paragraph"> <div class="real-paragraph"> たとえば、モノリシックインストールでは、必要なのは2組のキー／値のみです。
</div>
</div>


<pre><code>"console_admin_password": "puppet"
"puppet_enterprise::puppet_master_host": "%{::trusted.certname}"
</code></pre>

<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> 必須およびオプションのパラメータの完全なリストについては、<a href="./install_pe_conf_param.html"><code>pe.conf</code>パラメータリファレンス</a>を参照してください。
</div>
</div>


<h3 id="obtaining-a-peconf-file">
<code>pe.conf</code>ファイルの取得</h3>

<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> インストール時に使用する<code>pe.conf</code>ファイルは、次の方法で作成または取得することができます。
</div>
</div>


<ul>
<li>
    <p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> PEインストーラtarballの<code>conf.d</code>ディレクトリで提供されている<code>pe.conf</code>ファイル例を使用する方法。
</div>
</div>


    <blockquote>
      <p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> <strong>ヒント：</strong>モノリシックインストールの場合、ほとんどのケースでは、変更を一切加えずに<code>pe.conf</code>ファイル例を使用できます。
</div>
</div>

    </blockquote>
  </li>
  <li>インストーラでプロンプトが表示されたら、テキストモードインストールのオプションを選択する方法。これにより、デフォルトのエディタと<code>pe.conf</code>ファイル例が開き、ファイル例を編集することができます。エディタを閉じると、この<code>pe.conf</code>を使用してインストールが進められます。</li>
  <li>Webベースのインストーラを使用して<code>pe.conf</code>ファイルを作成する方法。Webベースのインストーラを実行すると、<code>/etc/puppetlabs/enterprise/conf.d</code>でファイルが見つかります。また、Webベースのインストーラの確認ページに表示されるリンクからファイルをダウンロードすることもできます。</li>
</ul>
<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> 必須およびオプションのパラメータの完全なリストについては、<a href="./install_pe_conf_param.html"><code>pe.conf</code>パラメータリファレンス</a>を参照してください。
</div>
</div>


<h2 id="configuring-pe-settings-with-hiera-when-installing">インストール時のHieraによるPE設定</h2>

<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> アップグレード時、<code>pe.conf</code>はデフォルトの<code>datadir</code>(<code>/etc/puppetlabs/code/environments/%{environment}/hieradata</code>)で<a href="/pe/2016.4/config_intro.html#configure-settings-with-hiera">Hieraを通じて指定した</a>すべてのPuppet Enterprise設定を引き継ぎます。
</div>
</div>


<p> </p>
<div class="real-paragraph"> <div class="real-paragraph"> Hiera <code>datadir</code>に<strong>デフォルトではないロケーション</strong>を使用している場合は、アップグレード時にそれらのHieraパラメータを追加するか、<code>pe.conf</code>をオーバーライドできますが、インストールの完了時にお使いの商用Hieraにそれらを追加する必要がある点に注意してください。そうしないと、Puppet実行時に上書きされます。
</div>
</div>

</div>

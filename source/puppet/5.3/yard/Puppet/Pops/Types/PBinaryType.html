<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Puppet::Pops::Types::PBinaryType
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Puppet::Pops::Types::PBinaryType";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Puppet.html" title="Puppet (module)">Puppet</a></span></span> &raquo; <span class='title'><span class='object_link'>Pops</span></span> &raquo; <span class='title'><span class='object_link'>Types</span></span>
     &raquo; 
    <span class="title">PBinaryType</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Puppet::Pops::Types::PBinaryType
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="PAnyType.html" title="Puppet::Pops::Types::PAnyType (class)">PAnyType</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next"><span class='object_link'><a href="TypedModelObject.html" title="Puppet::Pops::Types::TypedModelObject (class)">TypedModelObject</a></span></li>
          
            <li class="next"><span class='object_link'><a href="PAnyType.html" title="Puppet::Pops::Types::PAnyType (class)">PAnyType</a></span></li>
          
            <li class="next">Puppet::Pops::Types::PBinaryType</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/puppet/pops/types/p_binary_type.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A Puppet Language Type that represents binary data content (a sequence of 8-bit bytes).
Instances of this data type can be created from <code>String</code> and <code>Array[Integer[0,255]]</code>
values. Also see the <code>binary_file</code> function for reading binary content from a file.</p>

<p>A <code>Binary</code> can be converted to <code>String</code> and <code>Array</code> form - see function <code>new</code> for
the respective target data type for more information.</p>

<p>Instances of this data type serialize as base 64 encoded strings when the serialization
format is textual, and as binary content when a serialization format supports this.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#new_function-class_method" title="new_function (class method)">.<strong>new_function</strong>(type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="PAnyType.html" title="Puppet::Pops::Types::PAnyType (class)">PAnyType</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="PAnyType.html#alter_type_array-instance_method" title="Puppet::Pops::Types::PAnyType#alter_type_array (method)">#alter_type_array</a></span>, <span class='object_link'><a href="PAnyType.html#assignable%3F-instance_method" title="Puppet::Pops::Types::PAnyType#assignable? (method)">#assignable?</a></span>, <span class='object_link'><a href="PAnyType.html#callable_args%3F-instance_method" title="Puppet::Pops::Types::PAnyType#callable_args? (method)">#callable_args?</a></span>, <span class='object_link'><a href="PAnyType.html#check_self_recursion-instance_method" title="Puppet::Pops::Types::PAnyType#check_self_recursion (method)">#check_self_recursion</a></span>, <span class='object_link'><a href="PAnyType.html#generalize-instance_method" title="Puppet::Pops::Types::PAnyType#generalize (method)">#generalize</a></span>, <span class='object_link'><a href="PAnyType.html#iterable_type-instance_method" title="Puppet::Pops::Types::PAnyType#iterable_type (method)">#iterable_type</a></span>, <span class='object_link'><a href="PAnyType.html#kind_of_callable%3F-instance_method" title="Puppet::Pops::Types::PAnyType#kind_of_callable? (method)">#kind_of_callable?</a></span>, <span class='object_link'><a href="PAnyType.html#name-instance_method" title="Puppet::Pops::Types::PAnyType#name (method)">#name</a></span>, <span class='object_link'><a href="PAnyType.html#normalize-instance_method" title="Puppet::Pops::Types::PAnyType#normalize (method)">#normalize</a></span>, <span class='object_link'><a href="PAnyType.html#really_instance%3F-instance_method" title="Puppet::Pops::Types::PAnyType#really_instance? (method)">#really_instance?</a></span>, <span class='object_link'><a href="PAnyType.html#resolve-instance_method" title="Puppet::Pops::Types::PAnyType#resolve (method)">#resolve</a></span>, <span class='object_link'><a href="PAnyType.html#tuple_entry_at-instance_method" title="Puppet::Pops::Types::PAnyType#tuple_entry_at (method)">#tuple_entry_at</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="new_function-class_method">
  
    .<strong>new_function</strong>(type)  &#x21d2; <tt><span class='object_link'>Object</span></tt> &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/pops/types/p_binary_type.rb', line 154</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new_function'>new_function</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='ivar'>@new_function</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../../../Puppet.html" title="Puppet (module)">Puppet</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Functions.html" title="Puppet::Functions (module)">Functions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_loaded_function'><span class='object_link'><a href="../../Functions.html#create_loaded_function-class_method" title="Puppet::Functions.create_loaded_function (method)">create_loaded_function</a></span></span><span class='lparen'>(</span><span class='symbol'>:new_Binary</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_loader'>loader</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_local_types'>local_types</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_type'>type</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ByteInteger = Integer[0,255]</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_type'>type</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Base64Format = Enum[&quot;%b&quot;, &quot;%u&quot;, &quot;%B&quot;, &quot;%s&quot;, &quot;%r&quot;]</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_type'>type</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>StringHash = Struct[{value =&gt; String, &quot;format&quot; =&gt; Optional[Base64Format]}]</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_type'>type</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ArrayHash = Struct[{value =&gt; Array[ByteInteger]}]</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_type'>type</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BinaryArgsHash = Variant[StringHash, ArrayHash]</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>

    <span class='comment'># Creates a binary from a base64 encoded string in one of the formats %b, %u, %B, %s, or %r
</span>    <span class='id identifier rubyid_dispatch'>dispatch</span> <span class='symbol'>:from_string</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_param'>param</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:str</span>
      <span class='id identifier rubyid_optional_param'>optional_param</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Base64Format</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:format</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_dispatch'>dispatch</span> <span class='symbol'>:from_array</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_param'>param</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Array[ByteInteger]</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:byte_array</span>
    <span class='kw'>end</span>

    <span class='comment'># Same as from_string, or from_array, but value and (for string) optional format are given in the form
</span>    <span class='comment'># of a hash.
</span>    <span class='comment'>#
</span>    <span class='id identifier rubyid_dispatch'>dispatch</span> <span class='symbol'>:from_hash</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_param'>param</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BinaryArgsHash</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:hash_args</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_from_string'>from_string</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='comma'>,</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_format'>format</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%B</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>case</span> <span class='id identifier rubyid_format'>format</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%b</span><span class='tstring_end'>&quot;</span></span>
        <span class='comment'># padding must be added for older rubies to avoid truncation
</span>        <span class='id identifier rubyid_padding'>padding</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>%</span> <span class='int'>3</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PBinaryType/Binary.html#initialize-instance_method" title="Puppet::Pops::Types::PBinaryType::Binary#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_decode64'>decode64</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span> <span class='op'>+</span> <span class='id identifier rubyid_padding'>padding</span><span class='rparen'>)</span><span class='rparen'>)</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%u</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PBinaryType/Binary.html#initialize-instance_method" title="Puppet::Pops::Types::PBinaryType::Binary#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_urlsafe_decode64'>urlsafe_decode64</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span><span class='rparen'>)</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PBinaryType/Binary.html#initialize-instance_method" title="Puppet::Pops::Types::PBinaryType::Binary#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_strict_decode64'>strict_decode64</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span><span class='rparen'>)</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_string'><span class='object_link'><a href="PBinaryType/Binary.html#from_string-class_method" title="Puppet::Pops::Types::PBinaryType::Binary.from_string (method)">from_string</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>

      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%r</span><span class='tstring_end'>&quot;</span></span>
        <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_binary_string'><span class='object_link'><a href="PBinaryType/Binary.html#from_binary_string-class_method" title="Puppet::Pops::Types::PBinaryType::Binary.from_binary_string (method)">from_binary_string</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>

      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unsupported Base64 format &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format'>format</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_from_array'>from_array</span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='rparen'>)</span>
      <span class='comment'># The array is already known to have bytes in the range 0-255, or it is in error
</span>      <span class='comment'># Without this pack C would produce weird results
</span>      <span class='const'><span class='object_link'><a href="PBinaryType/Binary.html" title="Puppet::Pops::Types::PBinaryType::Binary (class)">Binary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_binary_string'><span class='object_link'><a href="PBinaryType/Binary.html#from_binary_string-class_method" title="Puppet::Pops::Types::PBinaryType::Binary.from_binary_string (method)">from_binary_string</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_from_hash'>from_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='rparen'>)</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
      <span class='kw'>when</span> <span class='const'>Array</span>
        <span class='id identifier rubyid_from_array'>from_array</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='const'>String</span>
        <span class='id identifier rubyid_from_string'>from_string</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>format</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Feb 13 10:57:01 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.3.3).
</div>

    </div>
  </body>
</html>